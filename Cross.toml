[target.aarch64-unknown-linux-gnu]
pre-build = [
    "dpkg --add-architecture arm64",
    "apt-get update && apt-get install -y libudev-dev libudev-dev:arm64 pkg-config curl ca-certificates libstdc++6:arm64 libgcc-s1:arm64",
    "mkdir -p /.cache && chmod 777 /.cache",
    "mkdir -p /root/.cache && chmod 777 /root/.cache",
    "mkdir -p /tmp/.cache && chmod 777 /tmp/.cache",
    "echo 'Searching for libudev.pc files:' && find /usr -name 'libudev.pc' 2>/dev/null || echo 'No libudev.pc found'"
]

[build.env]
passthrough = [
    "PKG_CONFIG_ALLOW_CROSS"
]

